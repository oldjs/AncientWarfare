<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>æˆ‘å‹’ä¸ªæˆ‘ - Wo Le Ge Wo</title>
    <meta name="description" content="æˆ‘å‹’ä¸ªæˆ‘ (Wo Le Ge Wo) æ˜¯ä¸€æ¬¾ç±»ä¼¼ç¾Šäº†ä¸ªç¾Šçš„è¶£å‘³å°æ¸¸æˆï¼ŒæŒ‘æˆ˜ä½ çš„ååº”é€Ÿåº¦å’Œç­–ç•¥æ€ç»´ï¼Œå¿«æ¥ä½“éªŒå§ï¼Wo Le Ge Wo is a fun mini-game similar to 'Sheep a Sheep', challenging your reaction speed and strategic thinking. Come and try it out!">
    <style>
        /* å…¨å±€æ ·å¼ */
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #fffacd; /* æµ…é»„è‰²èƒŒæ™¯ */
            font-family: 'Comic Sans MS', cursive, sans-serif;
            touch-action: none; /* ç¦æ­¢é»˜è®¤è§¦æ‘¸è¡Œä¸º */
            position: relative;
            overflow: hidden;
        }

        /* æ¸¸æˆæ¿ */
        #game-board {
            position: relative;
            width: 100%;
            height: 100%;
        }

        /* æ–¹å—æ ·å¼ */
        .tile {
            position: absolute;
            background-color: #ffcc99;
            border: 2px solid #ff9966;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 16px; /* å­—ä½“å¤§å° */
            cursor: pointer;
            user-select: none;
            transition: transform 0.2s, background-color 0.3s;
        }

        .tile:hover {
            transform: scale(1.05);
        }

        .tile.selected {
            background-color: #ffcc66;
            border-color: #ff6600;
        }

        .tile.matched {
            animation: fadeOut 0.5s forwards; /* æ¸éšåŠ¨ç”» */
        }

        @keyframes fadeOut {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0.5); }
        }

        .tile.hint {
            animation: hintGlow 1s infinite;
        }

        @keyframes hintGlow {
            0% { box-shadow: 0 0 10px #ff6600; }
            50% { box-shadow: 0 0 20px #ff9966; }
            100% { box-shadow: 0 0 10px #ff6600; }
        }

        /* è¿çº¿æ ·å¼ */
        #line {
            position: absolute;
            height: 4px;
            background: linear-gradient(90deg, red, orange, yellow, green, blue, indigo, violet);
            transform-origin: left;
            pointer-events: none;
            border-radius: 3px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
        }

        /* åˆ†æ•°å’Œå›åˆæ•° */
        #score-panel {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 18px;
            color: #ff6600;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* ç”Ÿå‘½å€¼ */
        #lives {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 18px;
            color: #ff6600;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* æç¤ºæŒ‰é’® */
        #hint-button {
            position: absolute;
            bottom: 20px;
            right: 20px;
            padding: 8px 16px;
            font-size: 14px;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            color: #fff;
            background-color: #ff9966;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: opacity 0.3s;
        }

        #hint-button.hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* éš¾åº¦æç¤º */
        #difficulty-alert {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            color: #ff0000;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: zoomIn 1s forwards;
            display: none;
        }

        @keyframes zoomIn {
            0% { transform: translate(-50%, -50%) scale(0); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }
    </style>
</head>
<body>
    <div id="score-panel">
        åˆ†æ•°: <span id="score">0</span> | å›åˆ: <span id="round">1</span>
    </div>
    <div id="lives">â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸</div>
    <div id="game-board"></div>
    <button id="hint-button">ğŸ’¡x3</button>
    <div id="line"></div>
    <div id="difficulty-alert">éš¾åº¦é£™å‡ï¼</div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const board = document.getElementById('game-board');
            const line = document.getElementById('line');
            const scorePanel = document.getElementById('score');
            const roundPanel = document.getElementById('round');
            const livesPanel = document.getElementById('lives');
            const hintButton = document.getElementById('hint-button');
            const difficultyAlert = document.getElementById('difficulty-alert');
            let tiles = [];
            let firstTile = null;
            let isDragging = false;
            let startX = 0, startY = 0;
            let score = 0;
            let round = 1;
            let lives = 6; // åˆå§‹ç”Ÿå‘½å€¼
            let hintCount = 3; // æç¤ºæ¬¡æ•°
            const basePairs = [
                'ğŸ˜ ', 'ğŸ˜”', 'ğŸ˜±', 'ğŸ˜¨', 'ğŸ˜‘', 'ğŸ˜¬', 'ğŸ˜²', 'ğŸ˜Š', 'ğŸ˜­', 'ğŸ˜”',
                'ğŸ¤­', 'ğŸ¤£', 'ğŸ¤¥', 'ğŸ¤ª', 'ğŸ¥º', 'ğŸ¤§', 'ğŸ¥µ', 'ğŸ¥´', 'ğŸ˜µ', 'ğŸ˜¬',
                'ğŸ˜«', 'ğŸ¤—', 'ğŸ¤”', 'ğŸ˜‹', 'ğŸ¤¡', 'ğŸ¤«', 'ğŸ™„', 'ğŸ¤”', 'ğŸ˜¤', 'ğŸ˜¡',
                'ğŸ˜˜', 'ğŸ˜', 'ğŸ‘¿', 'ğŸ˜', 'ğŸ˜°', 'ğŸ˜¶', 'ğŸ¥°', 'ğŸ¤©', 'ğŸ¤¤', 'ğŸ¤®',
                'ğŸ¥µ', 'ğŸ’©', 'ğŸ˜‡', 'ğŸ˜†', 'ğŸ˜…', 'ğŸ˜€', 'ğŸ–•ğŸ»', 'ğŸ‘‰ğŸ»', 'â˜ğŸ»ï¸', 'ğŸ‘ˆğŸ»',
                'ğŸ‘‡ğŸ»', 'ğŸ‡¨ğŸ‡³', 'ğŸ‡ºğŸ‡¸', 'ğŸ‡·ğŸ‡º', 'ğŸ‘ğŸ»', 'ğŸ‘ğŸ»', 'ğŸ‘‚ğŸ»', 'ğŸ¤œ', 'ğŸ¤›', 'ğŸ™ğŸ»',
                'â¤ï¸', 'ğŸ‡¯ğŸ‡µ', 'ğŸ‡°ğŸ‡·', 'ğŸ‡¬ğŸ‡§', 'ğŸ‡¨ğŸ‡¦', 'ğŸ¦™', 'ğŸ', 'ğŸ¦Œ', 'ğŸ•', 'ğŸ©',
                'ğŸ¦®', 'ğŸ•â€ğŸ¦º', 'ğŸˆ', 'ğŸˆâ€â¬›', 'ğŸ¦¤', 'ğŸ¦¢', 'ğŸ¦œ', 'ğŸ¦©', 'ğŸ¦š', 'ğŸ¦‰',
                'ğŸ¦…', 'ğŸ¦†', 'ğŸ“', 'ğŸ¦ƒ', 'ğŸ¦¤', 'ğŸ¦¦', 'ğŸ¦¨', 'ğŸ¦¡', 'ğŸ¦¥', 'ğŸ¦«',
                'ğŸ', 'ğŸ€', 'ğŸ¿', 'ğŸ¦”', 'ğŸ¾', 'ğŸ¦', 'ğŸ‰', 'ğŸ¦•', 'ğŸ¦–', 'ğŸ²',
                'ğŸŒµ', 'ğŸ„', 'ğŸŒ²', 'ğŸŒ³', 'ğŸŒ´', 'ğŸŒ±', 'ğŸŒ¿', 'â˜˜ï¸', 'ğŸ€', 'ğŸ',
                'ğŸ‹', 'ğŸƒ', 'ğŸ‚', 'ğŸ', 'ğŸ„', 'ğŸŒ¾', 'ğŸ’', 'ğŸŒ·', 'ğŸŒ¹', 'ğŸ¥€',
                'ğŸŒº', 'ğŸŒ¸', 'ğŸŒ¼', 'ğŸŒ»', 'ğŸŒ', 'ğŸŒ', 'ğŸŒ›', 'ğŸŒœ', 'ğŸŒš', 'ğŸŒ•',
                'ğŸŒ–', 'ğŸŒ—', 'ğŸŒ˜', 'ğŸŒ‘', 'ğŸŒ’', 'ğŸŒ“', 'ğŸŒ”', 'ğŸŒ™', 'ğŸŒ', 'ğŸŒ',
                'ğŸŒ', 'ğŸª', 'ğŸ’«', 'â­ï¸', 'ğŸŒŸ', 'âœ¨', 'âš¡ï¸', 'â˜„ï¸', 'ğŸ’¥', 'ğŸ”¥',
                'ğŸŒª', 'ğŸŒˆ', 'â˜ï¸', 'â›…ï¸', 'ğŸŒ¤', 'ğŸŒ¥', 'ğŸŒ¦', 'ğŸŒ§', 'â›ˆ', 'ğŸŒ©',
                'ğŸŒ¨', 'â„ï¸', 'â˜ƒï¸', 'â›„ï¸', 'ğŸŒ¬', 'ğŸ’¨', 'ğŸ’§', 'ğŸ’¦', 'â˜”ï¸', 'â˜‚ï¸',
                'ğŸŒŠ', 'ğŸŒ«', 'ğŸ', 'ğŸ', 'ğŸ', 'ğŸŠ', 'ğŸ‹', 'ğŸŒ', 'ğŸ‰', 'ğŸ‡',
                'ğŸ“', 'ğŸˆ', 'ğŸ’', 'ğŸ‘', 'ğŸ¥­', 'ğŸ', 'ğŸ¥¥', 'ğŸ¥', 'ğŸ…', 'ğŸ†',
                'ğŸ¥‘', 'ğŸ¥¦', 'ğŸ¥¬', 'ğŸ¥’', 'ğŸŒ¶', 'ğŸŒ½', 'ğŸ¥•', 'ğŸ§„', 'ğŸ§…', 'ğŸ¥”',
                'ğŸ ', 'ğŸ¥', 'ğŸ¥¯', 'ğŸ', 'ğŸ¥–', 'ğŸ¥¨', 'ğŸ§€', 'ğŸ¥š', 'ğŸ³', 'ğŸ§ˆ',
                'ğŸ¥', 'ğŸ§‡', 'ğŸ¥“', 'ğŸ¥©', 'ğŸ—', 'ğŸ–', 'ğŸ¦´', 'ğŸŒ­', 'ğŸ”', 'ğŸŸ',
                'ğŸ•', 'ğŸ¥ª', 'ğŸ¥™', 'ğŸ§†', 'ğŸŒ®', 'ğŸŒ¯', 'ğŸ¥—', 'ğŸ¥˜', 'ğŸ¥«', 'ğŸ',
                'ğŸœ', 'ğŸ²', 'ğŸ›', 'ğŸ£', 'ğŸ±', 'ğŸ¥Ÿ', 'ğŸ¤', 'ğŸ™', 'ğŸš', 'ğŸ˜',
                'ğŸ¥', 'ğŸ¥ ', 'ğŸ¥®', 'ğŸ¢', 'ğŸ¡', 'ğŸ§', 'ğŸ¨', 'ğŸ¦', 'ğŸ¥§', 'ğŸ§',
                'ğŸ°', 'ğŸ‚', 'ğŸ®', 'ğŸ­', 'ğŸ¬', 'ğŸ«', 'ğŸ¿', 'ğŸ©', 'ğŸª', 'ğŸŒ°',
                'ğŸ¥œ', 'ğŸ¯', 'ğŸ¥›', 'ğŸ¼', 'â˜•ï¸', 'ğŸµ', 'ğŸ§ƒ', 'ğŸ¥¤', 'ğŸ¶', 'ğŸº',
                'ğŸ»', 'ğŸ¥‚', 'ğŸ·', 'ğŸ¥ƒ', 'ğŸ¸', 'ğŸ¹', 'ğŸ§‰', 'ğŸ¾', 'ğŸ§Š', 'ğŸ¥„',
                'ğŸ´', 'ğŸ½', 'ğŸ¥£', 'ğŸ¥¡', 'ğŸ¥¢', 'ğŸ§‚', 'âš½ï¸', 'ğŸ€', 'ğŸˆ', 'âš¾ï¸',
                'ğŸ¥', 'ğŸ¾', 'ğŸ', 'ğŸ‰', 'ğŸ¥', 'ğŸ±', 'ğŸª€', 'ğŸ“', 'ğŸ¸', 'ğŸ’',
                'ğŸ‘', 'ğŸ¥', 'ğŸ', 'ğŸªƒ', 'ğŸ¥…', 'â›³ï¸', 'ğŸª', 'ğŸ¹', 'ğŸ£', 'ğŸ¤¿',
                'ğŸ¥Š', 'ğŸ¥‹', 'ğŸ½', 'ğŸ›¹', 'ğŸ›·', 'â›¸', 'ğŸ¥Œ', 'ğŸ¿', 'â›·', 'ğŸ‚',
                'ğŸª‚', 'ğŸ‹ï¸â€â™€ï¸', 'ğŸ‹ï¸â€â™‚ï¸', 'ğŸ¤¼â€â™€ï¸', 'ğŸ¤¼â€â™‚ï¸', 'ğŸ¤¸â€â™€ï¸', 'ğŸ¤¸â€â™‚ï¸', 'â›¹ï¸â€â™€ï¸', 'â›¹ï¸â€â™‚ï¸', 'ğŸ¤º',
                'ğŸ¤¾â€â™€ï¸', 'ğŸ¤¾â€â™‚ï¸', 'ğŸŒï¸â€â™€ï¸', 'ğŸŒï¸â€â™‚ï¸', 'ğŸ‡', 'ğŸ§˜â€â™€ï¸', 'ğŸ§˜â€â™‚ï¸', 'ğŸ„â€â™€ï¸', 'ğŸ„â€â™‚ï¸', 'ğŸŠâ€â™€ï¸',
                'ğŸŠâ€â™‚ï¸', 'ğŸ¤½â€â™€ï¸', 'ğŸ¤½â€â™‚ï¸', 'ğŸš£â€â™€ï¸', 'ğŸš£â€â™‚ï¸', 'ğŸ§—â€â™€ï¸', 'ğŸ§—â€â™‚ï¸', 'ğŸšµâ€â™€ï¸', 'ğŸšµâ€â™‚ï¸', 'ğŸš´â€â™€ï¸',
                'ğŸš´â€â™‚ï¸', 'ğŸ›€', 'ğŸ›Œ', 'ğŸ§‘â€ğŸ¤â€ğŸ§‘', 'ğŸ‘­', 'ğŸ‘«', 'ğŸ‘¬', 'ğŸ’', 'ğŸ’‘', 'ğŸ‘ª',
                'ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§',
                'ğŸ‘©â€ğŸ‘©â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘©â€ğŸ‘§', 'ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘§â€ğŸ‘§',
                'ğŸ‘©â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘§', 'ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘§â€ğŸ‘§', 'ğŸ—£', 'ğŸ‘¤', 'ğŸ‘¥', 'ğŸ‘£', 'ğŸ§³',
                'ğŸŒ‚', 'â˜‚ï¸', 'ğŸ§µ', 'ğŸ§¶', 'ğŸ‘“', 'ğŸ•¶', 'ğŸ¥½', 'ğŸ¥¼', 'ğŸ¦º', 'ğŸ‘”',
                'ğŸ‘•', 'ğŸ‘–', 'ğŸ§£', 'ğŸ§¤', 'ğŸ§¥', 'ğŸ§¦', 'ğŸ‘—', 'ğŸ‘˜', 'ğŸ¥»', 'ğŸ©±',
                'ğŸ©²', 'ğŸ©³', 'ğŸ‘™', 'ğŸ‘š', 'ğŸ‘›', 'ğŸ‘œ', 'ğŸ‘', 'ğŸ›', 'ğŸ’', 'ğŸ‘',
                'ğŸ‘Ÿ', 'ğŸ¥¾', 'ğŸ¥¿', 'ğŸ‘ ', 'ğŸ‘¡', 'ğŸ©°', 'ğŸ‘¢', 'ğŸ‘‘', 'ğŸ‘’', 'ğŸ©',
                'ğŸ“', 'ğŸ§¢', 'â›‘', 'ğŸ“¿', 'ğŸ’„', 'ğŸ’', 'ğŸ’', 'ğŸµ', 'ğŸ¦', 'ğŸ¦§',
                'ğŸ¶', 'ğŸ•', 'ğŸ¦®', 'ğŸ•â€ğŸ¦º', 'ğŸ©', 'ğŸº', 'ğŸ¦Š', 'ğŸ¦', 'ğŸ±', 'ğŸˆ',
                'ğŸˆâ€â¬›', 'ğŸ¦', 'ğŸ¯', 'ğŸ…', 'ğŸ†', 'ğŸ´', 'ğŸ', 'ğŸ¦„', 'ğŸ¦“', 'ğŸ¦Œ',
                'ğŸ®', 'ğŸ‚', 'ğŸƒ', 'ğŸ„', 'ğŸ·', 'ğŸ–', 'ğŸ—', 'ğŸ½', 'ğŸ', 'ğŸ‘',
                'ğŸ', 'ğŸª', 'ğŸ«', 'ğŸ¦™', 'ğŸ¦’', 'ğŸ˜', 'ğŸ¦', 'ğŸ¦›', 'ğŸ­', 'ğŸ',
                'ğŸ€', 'ğŸ¹', 'ğŸ°', 'ğŸ‡', 'ğŸ¿', 'ğŸ¦”', 'ğŸ¦‡', 'ğŸ»', 'ğŸ¨', 'ğŸ¼',
                'ğŸ¦¥', 'ğŸ¦¦', 'ğŸ¦¨', 'ğŸ¦˜', 'ğŸ¦¡', 'ğŸ¾', 'ğŸ¦ƒ', 'ğŸ”', 'ğŸ“', 'ğŸ£',
                'ğŸ¤', 'ğŸ¥', 'ğŸ¦', 'ğŸ¦…', 'ğŸ¦†', 'ğŸ¦¢', 'ğŸ¦‰', 'ğŸ¦©', 'ğŸ¦š', 'ğŸ¦œ',
                'ğŸ¸', 'ğŸŠ', 'ğŸ¢', 'ğŸ¦', 'ğŸ', 'ğŸ²', 'ğŸ‰', 'ğŸ¦•', 'ğŸ¦–', 'ğŸ³',
                'ğŸ‹', 'ğŸ¬', 'ğŸŸ', 'ğŸ ', 'ğŸ¡', 'ğŸ¦ˆ', 'ğŸ™', 'ğŸš', 'ğŸ¦€', 'ğŸ¦',
                'ğŸ¦', 'ğŸ¦‘', 'ğŸ¦ª', 'ğŸŒ', 'ğŸ¦‹', 'ğŸ›', 'ğŸœ', 'ğŸ', 'ğŸ', 'ğŸ¦—',
                'ğŸ•·', 'ğŸ•¸', 'ğŸ¦‚', 'ğŸ¦Ÿ', 'ğŸ¦ ', 'ğŸ’', 'ğŸŒ¸', 'ğŸ’®', 'ğŸµ', 'ğŸŒ¹',
                'ğŸ¥€', 'ğŸŒº', 'ğŸŒ»', 'ğŸŒ¼', 'ğŸŒ·', 'ğŸŒ±', 'ğŸŒ²', 'ğŸŒ³', 'ğŸŒ´', 'ğŸŒµ',
                'ğŸŒ¾', 'ğŸŒ¿', 'â˜˜ï¸', 'ğŸ€', 'ğŸ', 'ğŸ‚', 'ğŸƒ', 'ğŸ‡', 'ğŸˆ', 'ğŸ‰',
                'ğŸŠ', 'ğŸ‹', 'ğŸŒ', 'ğŸ', 'ğŸ', 'ğŸ', 'ğŸ', 'ğŸ‘', 'ğŸ’', 'ğŸ“',
                'ğŸ¥', 'ğŸ…', 'ğŸ¥¥', 'ğŸ¥‘', 'ğŸ†', 'ğŸ¥”', 'ğŸ¥•', 'ğŸŒ½', 'ğŸŒ¶', 'ğŸ¥’',
                'ğŸ¥¬', 'ğŸ¥¦', 'ğŸ§„', 'ğŸ§…', 'ğŸ„', 'ğŸ¥œ', 'ğŸŒ°', 'ğŸ', 'ğŸ¥', 'ğŸ¥–',
                'ğŸ¥¨', 'ğŸ¥¯', 'ğŸ¥', 'ğŸ§‡', 'ğŸ§€', 'ğŸ–', 'ğŸ—', 'ğŸ¥©', 'ğŸ¥“', 'ğŸ”',
                'ğŸŸ', 'ğŸ•', 'ğŸŒ­', 'ğŸ¥ª', 'ğŸŒ®', 'ğŸŒ¯', 'ğŸ¥™', 'ğŸ§†', 'ğŸ¥š', 'ğŸ³',
                'ğŸ¥˜', 'ğŸ²', 'ğŸ¥£', 'ğŸ¥—', 'ğŸ¿', 'ğŸ§ˆ', 'ğŸ§‚', 'ğŸ¥«', 'ğŸ±', 'ğŸ˜',
                'ğŸ™', 'ğŸš', 'ğŸ›', 'ğŸœ', 'ğŸ', 'ğŸ ', 'ğŸ¢', 'ğŸ£', 'ğŸ¤', 'ğŸ¥',
                'ğŸ¥®', 'ğŸ¡', 'ğŸ¥Ÿ', 'ğŸ¥ ', 'ğŸ¥¡', 'ğŸ¦€', 'ğŸ¦', 'ğŸ¦', 'ğŸ¦‘', 'ğŸ¦ª',
                'ğŸ¦', 'ğŸ§', 'ğŸ¨', 'ğŸ©', 'ğŸª', 'ğŸ‚', 'ğŸ°', 'ğŸ§', 'ğŸ¥§', 'ğŸ«',
                'ğŸ¬', 'ğŸ­', 'ğŸ®', 'ğŸ¯', 'ğŸ¼', 'ğŸ¥›', 'â˜•ï¸', 'ğŸµ', 'ğŸ¶', 'ğŸ¾',
                'ğŸ·', 'ğŸ¸', 'ğŸ¹', 'ğŸº', 'ğŸ»', 'ğŸ¥‚', 'ğŸ¥ƒ', 'ğŸ¥„', 'ğŸ´', 'ğŸ½',
                'ğŸ¥£', 'ğŸ¥¡', 'ğŸ¥¢', 'ğŸ§‚', 'âš½ï¸', 'ğŸ€', 'ğŸˆ', 'âš¾ï¸', 'ğŸ¥', 'ğŸ¾',
                'ğŸ', 'ğŸ‰', 'ğŸ¥', 'ğŸ±', 'ğŸª€', 'ğŸ“', 'ğŸ¸', 'ğŸ’', 'ğŸ‘', 'ğŸ¥',
                'ğŸ', 'ğŸªƒ', 'ğŸ¥…', 'â›³ï¸', 'ğŸª', 'ğŸ¹', 'ğŸ£', 'ğŸ¤¿', 'ğŸ¥Š', 'ğŸ¥‹',
                'ğŸ½', 'ğŸ›¹', 'ğŸ›·', 'â›¸', 'ğŸ¥Œ', 'ğŸ¿', 'â›·', 'ğŸ‚', 'ğŸª‚', 'ğŸ‹ï¸â€â™€ï¸',
                'ğŸ‹ï¸â€â™‚ï¸', 'ğŸ¤¼â€â™€ï¸', 'ğŸ¤¼â€â™‚ï¸', 'ğŸ¤¸â€â™€ï¸', 'ğŸ¤¸â€â™‚ï¸', 'â›¹ï¸â€â™€ï¸', 'â›¹ï¸â€â™‚ï¸', 'ğŸ¤º', 'ğŸ¤¾â€â™€ï¸', 'ğŸ¤¾â€â™‚ï¸',
                'ğŸŒï¸â€â™€ï¸', 'ğŸŒï¸â€â™‚ï¸', 'ğŸ‡', 'ğŸ§˜â€â™€ï¸', 'ğŸ§˜â€â™‚ï¸', 'ğŸ„â€â™€ï¸', 'ğŸ„â€â™‚ï¸', 'ğŸŠâ€â™€ï¸', 'ğŸŠâ€â™‚ï¸', 'ğŸ¤½â€â™€ï¸',
                'ğŸ¤½â€â™‚ï¸', 'ğŸš£â€â™€ï¸', 'ğŸš£â€â™‚ï¸', 'ğŸ§—â€â™€ï¸', 'ğŸ§—â€â™‚ï¸', 'ğŸšµâ€â™€ï¸', 'ğŸšµâ€â™‚ï¸', 'ğŸš´â€â™€ï¸', 'ğŸš´â€â™‚ï¸', 'ğŸ›€',
                'ğŸ›Œ', 'ğŸ§‘â€ğŸ¤â€ğŸ§‘', 'ğŸ‘­', 'ğŸ‘«', 'ğŸ‘¬', 'ğŸ’', 'ğŸ’‘', 'ğŸ‘ª', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§',
                'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§', 'ğŸ‘©â€ğŸ‘©â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘©â€ğŸ‘§',
                'ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘§â€ğŸ‘§', 'ğŸ‘©â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦',
                'ğŸ‘©â€ğŸ‘§', 'ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘§â€ğŸ‘§', 'ğŸ—£', 'ğŸ‘¤', 'ğŸ‘¥', 'ğŸ‘£', 'ğŸ§³', 'ğŸŒ‚', 'â˜‚ï¸',
                'ğŸ§µ', 'ğŸ§¶', 'ğŸ‘“', 'ğŸ•¶', 'ğŸ¥½', 'ğŸ¥¼', 'ğŸ¦º', 'ğŸ‘”', 'ğŸ‘•', 'ğŸ‘–',
                'ğŸ§£', 'ğŸ§¤', 'ğŸ§¥', 'ğŸ§¦', 'ğŸ‘—', 'ğŸ‘˜', 'ğŸ¥»', 'ğŸ©±', 'ğŸ©²', 'ğŸ©³',
                'ğŸ‘™', 'ğŸ‘š', 'ğŸ‘›', 'ğŸ‘œ', 'ğŸ‘', 'ğŸ›', 'ğŸ’', 'ğŸ‘', 'ğŸ‘Ÿ', 'ğŸ¥¾',
                'ğŸ¥¿', 'ğŸ‘ ', 'ğŸ‘¡', 'ğŸ©°', 'ğŸ‘¢', 'ğŸ‘‘', 'ğŸ‘’', 'ğŸ©', 'ğŸ“', 'ğŸ§¢',
                'â›‘', 'ğŸ“¿', 'ğŸ’„', 'ğŸ’', 'ğŸ’', 'ğŸµ', 'ğŸ¦', 'ğŸ¦§', 'ğŸ¶', 'ğŸ•',
                'ğŸ¦®', 'ğŸ•â€ğŸ¦º', 'ğŸ©', 'ğŸº', 'ğŸ¦Š', 'ğŸ¦', 'ğŸ±', 'ğŸˆ', 'ğŸˆâ€â¬›', 'ğŸ¦',
                'ğŸ¯', 'ğŸ…', 'ğŸ†', 'ğŸ´', 'ğŸ', 'ğŸ¦„', 'ğŸ¦“', 'ğŸ¦Œ', 'ğŸ®', 'ğŸ‚',
                'ğŸƒ', 'ğŸ„', 'ğŸ·', 'ğŸ–', 'ğŸ—', 'ğŸ½', 'ğŸ', 'ğŸ‘', 'ğŸ', 'ğŸª',
                'ğŸ«', 'ğŸ¦™', 'ğŸ¦’', 'ğŸ˜', 'ğŸ¦', 'ğŸ¦›', 'ğŸ­', 'ğŸ', 'ğŸ€', 'ğŸ¹',
                'ğŸ°', 'ğŸ‡', 'ğŸ¿', 'ğŸ¦”', 'ğŸ¦‡', 'ğŸ»', 'ğŸ¨', 'ğŸ¼', 'ğŸ¦¥', 'ğŸ¦¦',
                'ğŸ¦¨', 'ğŸ¦˜', 'ğŸ¦¡', 'ğŸ¾', 'ğŸ¦ƒ', 'ğŸ”', 'ğŸ“', 'ğŸ£', 'ğŸ¤', 'ğŸ¥',
                'ğŸ¦', 'ğŸ¦…', 'ğŸ¦†', 'ğŸ¦¢', 'ğŸ¦‰', 'ğŸ¦©', 'ğŸ¦š', 'ğŸ¦œ', 'ğŸ¸', 'ğŸŠ',
                'ğŸ¢', 'ğŸ¦', 'ğŸ', 'ğŸ²', 'ğŸ‰', 'ğŸ¦•', 'ğŸ¦–', 'ğŸ³', 'ğŸ‹', 'ğŸ¬',
                'ğŸŸ', 'ğŸ ', 'ğŸ¡', 'ğŸ¦ˆ', 'ğŸ™', 'ğŸš', 'ğŸ¦€', 'ğŸ¦', 'ğŸ¦', 'ğŸ¦‘',
                'ğŸ¦ª', 'ğŸŒ', 'ğŸ¦‹', 'ğŸ›', 'ğŸœ', 'ğŸ', 'ğŸ', 'ğŸ¦—', 'ğŸ•·', 'ğŸ•¸',
                'ğŸ¦‚', 'ğŸ¦Ÿ', 'ğŸ¦ ', 'ğŸ’', 'ğŸŒ¸', 'ğŸ’®', 'ğŸµ', 'ğŸŒ¹', 'ğŸ¥€', 'ğŸŒº',
                'ğŸŒ»', 'ğŸŒ¼', 'ğŸŒ·', 'ğŸŒ±', 'ğŸŒ²', 'ğŸŒ³', 'ğŸŒ´', 'ğŸŒµ', 'ğŸŒ¾', 'ğŸŒ¿',
                'â˜˜ï¸', 'ğŸ€', 'ğŸ', 'ğŸ‚', 'ğŸƒ', 'ğŸ‡', 'ğŸˆ', 'ğŸ‰', 'ğŸŠ', 'ğŸ‹',
                'ğŸŒ', 'ğŸ', 'ğŸ', 'ğŸ', 'ğŸ', 'ğŸ‘', 'ğŸ’', 'ğŸ“', 'ğŸ¥', 'ğŸ…',
                'ğŸ¥¥', 'ğŸ¥‘', 'ğŸ†', 'ğŸ¥”', 'ğŸ¥•', 'ğŸŒ½', 'ğŸŒ¶', 'ğŸ¥’', 'ğŸ¥¬', 'ğŸ¥¦',
                'ğŸ§„', 'ğŸ§…', 'ğŸ„', 'ğŸ¥œ', 'ğŸŒ°', 'ğŸ', 'ğŸ¥', 'ğŸ¥–', 'ğŸ¥¨', 'ğŸ¥¯',
                'ğŸ¥', 'ğŸ§‡', 'ğŸ§€', 'ğŸ–', 'ğŸ—', 'ğŸ¥©', 'ğŸ¥“', 'ğŸ”', 'ğŸŸ', 'ğŸ•',
                'ğŸŒ­', 'ğŸ¥ª', 'ğŸŒ®', 'ğŸŒ¯', 'ğŸ¥™', 'ğŸ§†', 'ğŸ¥š', 'ğŸ³', 'ğŸ¥˜', 'ğŸ²',
                'ğŸ¥£', 'ğŸ¥—', 'ğŸ¿', 'ğŸ§ˆ', 'ğŸ§‚', 'ğŸ¥«', 'ğŸ±', 'ğŸ˜', 'ğŸ™', 'ğŸš',
                'ğŸ›', 'ğŸœ', 'ğŸ', 'ğŸ ', 'ğŸ¢', 'ğŸ£', 'ğŸ¤', 'ğŸ¥', 'ğŸ¥®', 'ğŸ¡',
                'ğŸ¥Ÿ', 'ğŸ¥ ', 'ğŸ¥¡', 'ğŸ¦€', 'ğŸ¦', 'ğŸ¦', 'ğŸ¦‘', 'ğŸ¦ª', 'ğŸ¦', 'ğŸ§',
                'ğŸ¨', 'ğŸ©', 'ğŸª', 'ğŸ‚', 'ğŸ°', 'ğŸ§', 'ğŸ¥§', 'ğŸ«', 'ğŸ¬', 'ğŸ­',
                'ğŸ®', 'ğŸ¯', 'ğŸ¼', 'ğŸ¥›', 'â˜•ï¸', 'ğŸµ', 'ğŸ¶', 'ğŸ¾', 'ğŸ·', 'ğŸ¸',
                'ğŸ¹', 'ğŸº', 'ğŸ»', 'ğŸ¥‚', 'ğŸ¥ƒ', 'ğŸ¥„', 'ğŸ´', 'ğŸ½', 'ğŸ¥£', 'ğŸ¥¡',
                'ğŸ¥¢', 'ğŸ§‚', 'âš½ï¸', 'ğŸ€', 'ğŸˆ', 'âš¾ï¸', 'ğŸ¥', 'ğŸ¾', 'ğŸ', 'ğŸ‰',
                'ğŸ¥', 'ğŸ±', 'ğŸª€', 'ğŸ“', 'ğŸ¸', 'ğŸ’', 'ğŸ‘', 'ğŸ¥', 'ğŸ', 'ğŸªƒ',
                'ğŸ¥…', 'â›³ï¸', 'ğŸª', 'ğŸ¹', 'ğŸ£', 'ğŸ¤¿', 'ğŸ¥Š', 'ğŸ¥‹', 'ğŸ½', 'ğŸ›¹',
                'ğŸ›·', 'â›¸', 'ğŸ¥Œ', 'ğŸ¿', 'â›·', 'ğŸ‚', 'ğŸª‚', 'ğŸ‹ï¸â€â™€ï¸', 'ğŸ‹ï¸â€â™‚ï¸', 'ğŸ¤¼â€â™€ï¸',
                'ğŸ¤¼â€â™‚ï¸', 'ğŸ¤¸â€â™€ï¸', 'ğŸ¤¸â€â™‚ï¸', 'â›¹ï¸â€â™€ï¸', 'â›¹ï¸â€â™‚ï¸', 'ğŸ¤º', 'ğŸ¤¾â€â™€ï¸', 'ğŸ¤¾â€â™‚ï¸', 'ğŸŒï¸â€â™€ï¸', 'ğŸŒï¸â€â™‚ï¸',
                'ğŸ‡', 'ğŸ§˜â€â™€ï¸', 'ğŸ§˜â€â™‚ï¸', 'ğŸ„â€â™€ï¸', 'ğŸ„â€â™‚ï¸', 'ğŸŠâ€â™€ï¸', 'ğŸŠâ€â™‚ï¸', 'ğŸ¤½â€â™€ï¸', 'ğŸ¤½â€â™‚ï¸', 'ğŸš£â€â™€ï¸',
                'ğŸš£â€â™‚ï¸', 'ğŸ§—â€â™€ï¸', 'ğŸ§—â€â™‚ï¸', 'ğŸšµâ€â™€ï¸', 'ğŸšµâ€â™‚ï¸', 'ğŸš´â€â™€ï¸', 'ğŸš´â€â™‚ï¸', 'ğŸ›€', 'ğŸ›Œ', 'ğŸ§‘â€ğŸ¤â€ğŸ§‘',
                'ğŸ‘­', 'ğŸ‘«', 'ğŸ‘¬', 'ğŸ’', 'ğŸ’‘', 'ğŸ‘ª', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦',
                'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§', 'ğŸ‘©â€ğŸ‘©â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘©â€ğŸ‘§', 'ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦',
                'ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘§', 'ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦', 'ğŸ‘¨â€ğŸ‘§â€ğŸ‘§', 'ğŸ‘©â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦', 'ğŸ‘©â€ğŸ‘§', 'ğŸ‘©â€ğŸ‘§â€ğŸ‘¦',
                'ğŸ‘©â€ğŸ‘§â€ğŸ‘§', 'ğŸ—£', 'ğŸ‘¤', 'ğŸ‘¥', 'ğŸ‘£', 'ğŸ§³', 'ğŸŒ‚', 'â˜‚ï¸', 'ğŸ§µ', 'ğŸ§¶',
                'ğŸ‘“', 'ğŸ•¶', 'ğŸ¥½', 'ğŸ¥¼', 'ğŸ¦º', 'ğŸ‘”', 'ğŸ‘•', 'ğŸ‘–', 'ğŸ§£', 'ğŸ§¤',
                'ğŸ§¥', 'ğŸ§¦', 'ğŸ‘—', 'ğŸ‘˜', 'ğŸ¥»', 'ğŸ©±', 'ğŸ©²', 'ğŸ©³', 'ğŸ‘™', 'ğŸ‘š',
                'ğŸ‘›', 'ğŸ‘œ', 'ğŸ‘', 'ğŸ›', 'ğŸ’', 'ğŸ‘', 'ğŸ‘Ÿ', 'ğŸ¥¾', 'ğŸ¥¿', 'ğŸ‘ ',
                'ğŸ‘¡', 'ğŸ©°', 'ğŸ‘¢', 'ğŸ‘‘', 'ğŸ‘’', 'ğŸ©', 'ğŸ“', 'ğŸ§¢', 'â›‘', 'ğŸ“¿',
                'ğŸ’„', 'ğŸ’', 'ğŸ’'
            ];

            // åˆå§‹åŒ–æ¸¸æˆ
            const initGame = () => {
                board.innerHTML = '';
                tiles = [];
                firstTile = null;
                isDragging = false;
                lives = 6; // æ¯å›åˆé‡ç½®ç”Ÿå‘½å€¼
                livesPanel.textContent = 'â¤ï¸'.repeat(lives);
                createTiles();

                // ç¬¬ä¸‰å›åˆæç¤º
                if (round === 3) {
                    difficultyAlert.style.display = 'block';
                    setTimeout(() => {
                        difficultyAlert.style.display = 'none';
                    }, 2000);
                }
            };

            // åˆ›å»ºæ–¹å—
            const createTiles = () => {
                const pairs = round < 3 ? basePairs.slice(0, 5) : basePairs.slice(0, 5 + (round - 2) * 60);
                const tileValues = [...pairs, ...pairs].sort(() => Math.random() - 0.5);

                // æ ¹æ®å›åˆæ•°è°ƒæ•´æ–¹å—å¤§å°
                const tileSize =  round < 3 ? 60 : 30; // æ–¹å—å¤§å°å›ºå®šä¸º 30px
                const padding =round < 3 ? 10 : 2; // æ–¹å—ä¹‹é—´çš„æœ€å°é—´è·

                tileValues.forEach((value, index) => {
                    const tile = document.createElement('div');
                    tile.classList.add('tile');
                    tile.textContent = value;
                    tile.dataset.index = index;
                    tile.style.width = `${tileSize}px`;
                    tile.style.height = `${tileSize}px`;

                    // éšæœºæ”¾ç½®æ–¹å—ï¼Œç¡®ä¿ä¸ä¸éæ¸¸æˆåŒºåŸŸé‡å 
                    placeTileRandomly(tile, tileSize);

                    tile.addEventListener('touchstart', (e) => handleTouchStart(e, tile));
                    tile.addEventListener('touchmove', handleTouchMove);
                    tile.addEventListener('touchend', handleTouchEnd);

                    board.appendChild(tile);
                    tiles.push(tile);
                });
            };

// éšæœºæ”¾ç½®æ–¹å—
const placeTileRandomly = (tile, tileSize) => {
    const maxAttempts = 100; // æœ€å¤§å°è¯•æ¬¡æ•°
    let placed = false;
    let attempts = 0;

    // è·å–éæ¸¸æˆåŒºåŸŸçš„èŒƒå›´
    const scorePanelRect = scorePanel.getBoundingClientRect();
    const hintButtonRect = hintButton.getBoundingClientRect();

    // å®šä¹‰å®‰å…¨åŒºçš„é«˜åº¦
    const safeAreaTop = 100; // é¡¶éƒ¨å®‰å…¨åŒºé«˜åº¦
    const safeAreaBottom = 100; // åº•éƒ¨å®‰å…¨åŒºé«˜åº¦

    while (!placed && attempts < maxAttempts) {
        // ç”Ÿæˆéšæœºä½ç½®ï¼Œæ’é™¤é¡¶éƒ¨å’Œåº•éƒ¨çš„å®‰å…¨åŒº
        const x = Math.random() * (window.innerWidth - tileSize);
        const y = safeAreaTop + Math.random() * (window.innerHeight - tileSize - safeAreaTop - safeAreaBottom);

        tile.style.left = `${x}px`;
        tile.style.top = `${y}px`;

        // æ£€æŸ¥æ˜¯å¦ä¸éæ¸¸æˆåŒºåŸŸé‡å 
        const tileRect = tile.getBoundingClientRect();
        const overlapWithScorePanel = checkRectOverlap(tileRect, scorePanelRect);
        const overlapWithHintButton = checkRectOverlap(tileRect, hintButtonRect);

        if (overlapWithScorePanel || overlapWithHintButton) {
            attempts++;
            continue;
        }

        // ä»ç¬¬äºŒå›åˆå¼€å§‹ï¼Œå…è®¸æ ¼å­ä¹‹é—´æœ‰ 60% çš„é‡å æ¦‚ç‡
        if (round > 1 && Math.random() < 0.6) {
            placed = true;
        } else {
            // æ£€æŸ¥æ˜¯å¦ä¸å…¶ä»–æ–¹å—é‡å 
            let overlapWithTiles = false;
            for (const otherTile of tiles) {
                if (checkOverlap(tile, otherTile, 0)) {
                    overlapWithTiles = true;
                    break;
                }
            }

            if (!overlapWithTiles) {
                placed = true;
            }
        }

        attempts++;
    }
};
            // æ£€æŸ¥ä¸¤ä¸ªçŸ©å½¢æ˜¯å¦é‡å 
            const checkRectOverlap = (rect1, rect2) => {
                return !(
                    rect1.right < rect2.left ||
                    rect1.left > rect2.right ||
                    rect1.bottom < rect2.top ||
                    rect1.top > rect2.bottom
                );
            };

            // æ£€æŸ¥ä¸¤ä¸ªæ–¹å—æ˜¯å¦é‡å 
            const checkOverlap = (tile1, tile2, padding) => {
                const rect1 = tile1.getBoundingClientRect();
                const rect2 = tile2.getBoundingClientRect();

                return !(
                    rect1.right + padding < rect2.left ||
                    rect1.left - padding > rect2.right ||
                    rect1.bottom + padding < rect2.top ||
                    rect1.top - padding > rect2.bottom
                );
            };

            // å¤„ç†è§¦æ‘¸å¼€å§‹
            const handleTouchStart = (e, tile) => {
                e.preventDefault();
                if (tile.classList.contains('matched')) return;

                firstTile = tile;
                tile.classList.add('selected');
                isDragging = true;

                const touch = e.touches[0];
                startX = touch.clientX;
                startY = touch.clientY;

                line.style.display = 'block';
                line.style.left = `${startX}px`;
                line.style.top = `${startY}px`;
                line.style.width = '0';
            };

            // å¤„ç†è§¦æ‘¸ç§»åŠ¨
            const handleTouchMove = (e) => {
                if (!isDragging) return;
                e.preventDefault();

                const touch = e.touches[0];
                const endX = touch.clientX;
                const endY = touch.clientY;

                const dx = endX - startX;
                const dy = endY - startY;
                const length = Math.sqrt(dx * dx + dy * dy);
                const angle = Math.atan2(dy, dx) * (180 / Math.PI);

                line.style.width = `${length}px`;
                line.style.transform = `rotate(${angle}deg)`;
            };

            // å¤„ç†è§¦æ‘¸ç»“æŸ
            const handleTouchEnd = (e) => {
                if (!isDragging) return;
                e.preventDefault();

                const touch = e.changedTouches[0];
                const endX = touch.clientX;
                const endY = touch.clientY;

                const endTile = document.elementFromPoint(endX, endY);
                if (endTile && endTile.classList.contains('tile') && endTile !== firstTile) {
                    checkMatch(firstTile, endTile);
                }

                firstTile.classList.remove('selected');
                firstTile = null;
                isDragging = false;
                line.style.display = 'none';
            };

            // æ£€æŸ¥æ˜¯å¦åŒ¹é…
            const checkMatch = (tile1, tile2) => {
                if (tile1.textContent === tile2.textContent) {
                    tile1.classList.add('matched');
                    tile2.classList.add('matched');
                    score += 10;
                    scorePanel.textContent = score;

                    // åŠ¨ç”»ç»“æŸåç§»é™¤æ–¹å—
                    setTimeout(() => {
                        tile1.remove();
                        tile2.remove();
                    }, 500);

                    if (tiles.every(tile => tile.classList.contains('matched'))) {
                        setTimeout(() => {
                            round++;
                            roundPanel.textContent = round;
                            initGame();
                        }, 1000);
                    }
                } else {
                    lives--;
                    livesPanel.textContent = 'â¤ï¸'.repeat(lives);
                    if (lives === 0) {
                        alert('æ¸¸æˆç»“æŸï¼');
                        resetGame();
                    } else {
                        setTimeout(() => {
                            tile1.classList.remove('selected');
                            tile2.classList.remove('selected');
                        }, 500);
                    }
                }
            };

            // é‡ç½®æ¸¸æˆ
            const resetGame = () => {
                score = 0;
                round = 1;
                lives = 6;
                hintCount = 3;
                scorePanel.textContent = score;
                roundPanel.textContent = round;
                livesPanel.textContent = 'â¤ï¸'.repeat(lives);
                hintButton.textContent = `ğŸ’¡x${hintCount}`;
                hintButton.classList.remove('hidden');
                initGame();
            };

            // æç¤ºåŠŸèƒ½
            hintButton.addEventListener('click', () => {
                if (hintCount <= 0) return;

                const unmatchedTiles = tiles.filter(tile => !tile.classList.contains('matched'));
                let found = false;

                for (let i = 0; i < unmatchedTiles.length && !found; i++) {
                    for (let j = i + 1; j < unmatchedTiles.length && !found; j++) {
                        if (unmatchedTiles[i].textContent === unmatchedTiles[j].textContent) {
                            unmatchedTiles[i].classList.add('hint');
                            unmatchedTiles[j].classList.add('hint');
                            setTimeout(() => {
                                unmatchedTiles[i].classList.remove('hint');
                                unmatchedTiles[j].classList.remove('hint');
                            }, 1000);
                            found = true;
                        }
                    }
                }

                hintCount--;
                hintButton.textContent = `ğŸ’¡x${hintCount}`;

                if (hintCount === 0) {
                    hintButton.classList.add('hidden');
                }
            });

            // åˆå§‹åŒ–æ¸¸æˆ
            initGame();
        });
    </script>
</body>
</html>